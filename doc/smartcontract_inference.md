# Smart contract Inference

## tl;dr

- ONNXのモデル内のノード同士の結合をブロックチェーンで表現する

## Test model

```text
(43*a + 17*b) / (53*c - 7*d)
```

## Step.1 ONNXモデルを読み取る

![nodes](/Users/yuto.watanabe/Git/study-solidity/assets/onnx_model_nodes.png)

## Step.2 各ノードと同じ意味になるアカウントを設定

今回はノードが合計12個あるため、12個のアカウントを指定。

1. アカウント1 `a`
2. アカウント2 `b`
3. アカウント3 `c`
4. アカウント4 `d`
5. アカウント5 `Mul_1`
6. アカウント6 `Mul_2`
7. アカウント7 `Mul_3`
8. アカウント8 `Mul_4`
9. アカウント9 `Add_1`
10. アカウント10 `Add_2`
11. アカウント11 `Div`
12. アカウント12 `Output`

## Step.3 取引の実行

1. アカウント1→アカウント5
   - 定数43との積
2. アカウント2→アカウント6
   - 定数17との積
3. アカウント3→アカウント7
   - 定数53との積
4. アカウント4→アカウント8
   - 定数7との積
5. アカウント5→アカウント9
   - 和
6. アカウント6→アカウント9
   - 和
7. アカウント7→アカウント10
   - 和
8. アカウント8→アカウント10
   - 和
9. アカウント9→アカウント11
   - 除
10. アカウント11→アカウント12
    - 転送

## Step.4 別クライアントからの読み取り＆ONNXに変換

